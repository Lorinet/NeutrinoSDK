; test.py
; Compiled with Whiplash version 0.2

:main
link whiprtl.lnx
swscop 0
pushl Lad
leap
pushl Dude
leap
pushl Dude.__init__
ldb 2
top 1
leap
stgl d
ldgl d
dup
ldi 2
ldfld
leap
gc
ret

:Lad
swscop 1
gc
ret

:Lad.__init__
swscop 2
stloc y
newobj
stloc self
ldloc y
ldloc self
ldi 0
stfld
ldloc self
gc
ret

:Dude
swscop 3
gc
ret

:haveFun@5@if
pushlx print
ldstr "Smart"
top 1
leap
ldb 4
stloc y
ldloc y
ldb 5
cmp
ifgt
brp haveFun@5@if@7@if
ifle
brp haveFun@5@if@8@else
ret

:haveFun@5@if@7@if
pushlx print
ldstr "Fuck everything"
top 1
leap
ret

:haveFun@5@if@8@else
ldloc y
ldb 4
cmp
ifeq
brp haveFun@5@if@8@else@11@if
ifne
brp haveFun@5@if@8@else@20@else
ret

:haveFun@5@if@8@else@11@if
ldb 2
ldb 3
cmp
ifeq
brp haveFun@5@if@8@else@11@if@13@if
ifne
brp haveFun@5@if@8@else@11@if@14@else
ldstr "I am smaaart"
top 1
leap
ret

:haveFun@5@if@8@else@11@if@13@if
pushlx print
ldstr "Omfg"
top 1
leap
ret

:haveFun@5@if@8@else@11@if@14@else
ldb 4
ldb 5
cmp
ifeq
brp haveFun@5@if@8@else@11@if@14@else@17@if
ifne
brp haveFun@5@if@8@else@11@if@14@else@18@else
pushlx print
ret

:haveFun@5@if@8@else@11@if@14@else@17@if
pushlx print
ldstr "Gfom"
top 1
leap
ret

:haveFun@5@if@8@else@11@if@14@else@18@else
pushlx print
ldstr "Fuck u"
top 1
leap
ret

:haveFun@5@if@8@else@20@else
pushlx print
ldstr "Do not fuck everything!"
top 1
leap
ret

:haveFun@22@else
pushlx print
ldstr "Dumb as a rock"
top 1
leap
ret

:Dude.haveFun
swscop 4
stloc self
ldloc self
ldi 1
ldfld
ldi 0
ldfld
ldb 2
cmp
ifeq
brp haveFun@5@if
ifne
brp haveFun@22@else
gc
ret

:Dude.__init__
swscop 25
stloc x
newobj
stloc self
pushl Lad.__init__
ldloc x
top 1
leap
ldloc self
ldi 1
stfld
pushl Dude.haveFun
ldloc self
ldi 2
stfld
ldloc self
gc
ret

